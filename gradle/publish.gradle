/*
 * Gradle script for publish versions to maven central
 * Please, specified scmVersion variable in your script
 */


nexusStaging {
    packageGroup = "com.scmspain" //optional if packageGroup == project.getGroup()
    stagingProfileId = "7dd4d052409ec" //when not defined will be got from server using "packageGroup"
}

modifyPom {
    project {
        name 'com.scmspain.karyon:karyon2-schema'
        packaging 'jar'
        // optionally artifactId can be defined here
        description 'This module adds an endpoint /schema that is used to Swagger Documentation. This module depends on com.scmspain.karyon:karyon-rest-router.'
        url 'https://github.com/scm-spain/karyon2-schema'

        scm {
            connection 'scm:git@github.com:scm-spain/karyon2-schema.git'
            developerConnection 'scm:git@github.com:scm-spain/karyon2-schema.git'
            url 'https://github.com/scm-spain/karyon2-schema'
        }

        licenses {
            license {
                name 'The Apache License, Version 2.0'
                url 'http://www.apache.org/licenses/LICENSE-2.0.txt'
            }
        }

        developers {
            developer {
                id 'aramirez-es'
                name 'Alberto Ramirez'
                email 'alberto.ramirez@scmspain.com'
                organization 'SCM Spain'
                organizationUrl 'http://www.scmspain.com/'
            }
        }
    }
}

scmVersion {
    ignoreUncommittedChanges = false
}


allprojects {
    //To force version from command line
    //>gradle markNextVersion -Prelease.nextVersion=X.X.X
    project.version = scmVersion.version
}